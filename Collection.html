<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NOORÉ | Collections</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<link rel="stylesheet" href="Collection.css">
</head>

<body>

<!-- ===== HEADER (REUSED) ===== -->
<header>
    <div class="logo">NOORÉ</div>
    <nav>
        <a href="Index.html">Home</a>
        <a href="Collection.html">Collections</a>
        <a href="#contact" onclick="scrollToContact()">Contact</a>
        <a href="#" onclick="toggleCart()">Cart</a>
    </nav>
</header>

<!-- ======================================================
     CATEGORY TEMPLATE WITH BANNERS
====================================================== -->

<!-- ===== BRACELETS ===== -->
<section class="category-section">
    <div class="category-banner" style="background-image: url('Background.png');">
        <h2>Bracelets</h2>
    </div>

    <div class="product-grid">
        <div class="card">
            <div class="product-img"></div>
            <h3>Product Name</h3>
            <div class="price">₹0</div>
            <button onclick="addToCart(this)">Add to Cart</button>
        </div>
        <div class="card">
            <div class="product-img"></div>
            <h3>Product Name</h3>
            <div class="price">₹0</div>
            <button onclick="addToCart(this)">Add to Cart</button>
        </div>
        <div class="card">
            <div class="product-img"></div>
            <h3>Product Name</h3>
            <div class="price">₹0</div>
            <button onclick="addToCart(this)">Add to Cart</button>
        </div>
        <div class="card">
            <div class="product-img"></div>
            <h3>Product Name</h3>
            <div class="price">₹0</div>
            <button onclick="addToCart(this)">Add to Cart</button>
        </div>
    </div>
</section>

<!-- ===== RINGS ===== -->
<section class="category-section">
    <div class="category-banner" style="background-image: url('Background.png');">
        <h2>Rings</h2>
    </div>

    <div class="product-grid">
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
    </div>
</section>

<!-- ===== ARM CUFFS ===== -->
<section class="category-section">
    <div class="category-banner" style="background-image: url('Background.png');">
        <h2>Arm Cuffs</h2>
    </div>

    <div class="product-grid">
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
    </div>
</section>

<!-- ===== EAR CUFFS ===== -->
<section class="category-section">
    <div class="category-banner" style="background-image: url('Background.png');">
        <h2>Ear Cuffs</h2>
    </div>

    <div class="product-grid">
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
    </div>
</section>

<!-- ===== CHAINS ===== -->
<section class="category-section">
    <div class="category-banner" style="background-image: url('Background.png');">
        <h2>Chains</h2>
    </div>

    <div class="product-grid">
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
        <div class="card"><div class="product-img"></div><h3>Product Name</h3><div class="price">₹0</div><button onclick="addToCart(this)">Add to Cart</button></div>
    </div>
</section>


<!-- ===== CART (REUSED) ===== -->
<div class="cart" id="cart">
    <div class="cart-header">
        <h3>Your Cart</h3>
        <button class="close-cart" onclick="toggleCart()">✕</button>
    </div>
    <div id="cartItems"></div>
    <div class="cart-total" id="cartTotal">Total: ₹0.00</div>
</div>

<!-- ===== FOOTER (REUSED) ===== -->
<footer id="contact">
    <p><strong>Contact Us</strong></p>

    <p>
        Instagram:
        <a href="https://instagram.com/noor.ebhar" target="_blank">@noor.ebhar</a>
        &nbsp; | &nbsp;
        Email:
        <a href="mailto:noore.e.bhar@email.com">noore.e.bhar@email.com</a>
    </p>

    <p style="color: var(--gold);">[ Address goes here ]</p>

    <br>
    <p>© 2026 NOORÉ Jewellery | All Rights Reserved</p>
</footer>

<audio id="addToCartSound">
    <source src="click.mp3" type="audio/mpeg">
</audio>

<script>
function scrollToContact() {
    document.getElementById("contact").scrollIntoView({ behavior: "smooth" });
}

function toggleCart() {
    const cart = document.getElementById("cart");
    cart.classList.toggle("active");
}

/* Add to cart – price is read from the card itself */
function addToCart(button) {
    const card = button.closest(".card");

    // Read product name (placeholder-friendly)
    const productName = card.querySelector("h3")?.innerText || "Product";

    // Read price text and extract number
    const priceText = card.querySelector(".price")?.innerText || "0";
    const price = priceText.replace(/[^0-9.]/g, "");

    const cartItems = document.getElementById("cartItems");

    // Cart item container
    const item = document.createElement("div");
    item.classList.add("cart-item");

    // Name
    const nameSpan = document.createElement("span");
    nameSpan.classList.add("cart-item-name");
    nameSpan.innerText = productName;

    // Price
    const priceSpan = document.createElement("span");
    priceSpan.classList.add("cart-item-price");
    priceSpan.innerText = "₹" + price;

    // Remove button
    const removeBtn = document.createElement("button");
    removeBtn.classList.add("remove-item");
    removeBtn.innerText = "✕";

    // ✅ FIX: stop click from bubbling to document
    removeBtn.onclick = (e) => {
        e.stopPropagation();
        item.remove();
        updateCartTotal();
    };

    item.appendChild(nameSpan);
    item.appendChild(priceSpan);
    item.appendChild(removeBtn);
    cartItems.appendChild(item);

    // Sound
    const sound = document.getElementById("addToCartSound");
    if (sound) {
        sound.currentTime = 0;
        sound.play();
    }

    // Button pop animation
    button.classList.remove("pop");
    void button.offsetWidth;
    button.classList.add("pop");

    updateCartTotal();
    toggleCart();
}

/* Update total price */
function updateCartTotal() {
    const cartItems = document.querySelectorAll(".cart-item");
    let total = 0;

    cartItems.forEach(item => {
        const priceText = item
            .querySelector(".cart-item-price")
            .innerText.replace("₹", "");
        total += parseFloat(priceText) || 0;
    });

    document.getElementById("cartTotal").innerText =
        "Total: ₹" + total.toFixed(2);
}

/* ✅ ADD THIS — prevents clicks inside cart from closing it */
document.getElementById("cart").addEventListener("click", function (event) {
    event.stopPropagation();
});

/* Close cart when clicking outside */
document.addEventListener("click", function (event) {
    const cart = document.getElementById("cart");
    const cartButton = event.target.closest('[onclick="toggleCart()"]');

    if (
        cart.classList.contains("active") &&
        !cart.contains(event.target) &&
        !cartButton
    ) {
        cart.classList.remove("active");
    }
});
</script>

</body>
</html>
